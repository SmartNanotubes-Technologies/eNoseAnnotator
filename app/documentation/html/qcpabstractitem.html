<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qcustomplot.cpp -->
  <title>QCPAbstractItem Class | eNoseAnnotator</title>
</head>
<body>
<li>QCPAbstractItem</li>
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#protected-functions">Protected Functions</a></li>
<li class="level1"><a href="#reimplemented-protected-functions">Reimplemented Protected Functions</a></li>
<li class="level1"><a href="#protected-variables">Protected Variables</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">QCPAbstractItem Class</h1>
<!-- $$$QCPAbstractItem-brief -->
<p>The abstract base class for all items in a plot. <a href="#details">More...</a></p>
<!-- @@@QCPAbstractItem -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QCPAbstractItem&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="qcplayerable.html">QCPLayerable</a></td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherited By:</td><td class="memItemRight bottomAlign"> <p><a href="qcpitembracket.html">QCPItemBracket</a>, <a href="qcpitemcurve.html">QCPItemCurve</a>, <a href="qcpitemellipse.html">QCPItemEllipse</a>, <a href="qcpitemline.html">QCPItemLine</a>, <a href="qcpitempixmap.html">QCPItemPixmap</a>, <a href="qcpitemrect.html">QCPItemRect</a>, <a href="qcpitemstraightline.html">QCPItemStraightLine</a>, <a href="qcpitemtext.html">QCPItemText</a>, and <a href="qcpitemtracer.html">QCPItemTracer</a></p>
</td></tr></table></div><ul>
<li><a href="qcpabstractitem-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="protected-functions"></a>
<h2 id="protected-functions">Protected Functions</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#anchorPixelPosition">anchorPixelPosition</a></b>(<i>int</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#clipRect">clipRect</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QCPItemAnchor *</td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#createAnchor">createAnchor</a></b>(const int &amp;<i>name</i>, int <i>anchorId</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QCPItemPosition *</td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#createPosition">createPosition</a></b>(const int &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> double </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#rectDistance">rectDistance</a></b>(const int &amp;<i>rect</i>, const int &amp;<i>pos</i>, bool <i>filledRect</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#selectEvent">selectEvent</a></b>(int *<i>event</i>, bool <i>additive</i>, const int &amp;<i>details</i>, bool *<i>selectionStateChanged</i>)</td></tr>
</table></div>
<a name="reimplemented-protected-functions"></a>
<h2 id="reimplemented-protected-functions">Reimplemented Protected Functions</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#applyDefaultAntialiasingHint">applyDefaultAntialiasingHint</a></b>(QCPPainter *<i>painter</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#deselectEvent">deselectEvent</a></b>(bool *<i>selectionStateChanged</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#draw">draw</a></b>(QCPPainter *<i>painter</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QCP::Interaction </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#selectionCategory">selectionCategory</a></b>() const</td></tr>
</table></div>
<ul>
<li class="fn">16 protected functions inherited from <a href="qcplayerable.html#protected-functions">QCPLayerable</a></li>
</ul>
<a name="protected-variables"></a>
<h2 id="protected-variables">Protected Variables</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#mAnchors-var">mAnchors</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#mClipAxisRect-var">mClipAxisRect</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#mClipToAxisRect-var">mClipToAxisRect</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#mPositions-var">mPositions</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#mSelectable-var">mSelectable</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qcpabstractitem.html#mSelected-var">mSelected</a></b></td></tr>
</table></div>
<a name="details"></a>
<!-- $$$QCPAbstractItem-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>The abstract base class for all items in a plot.</p>
<p>In <a href="qcustomplot.html">QCustomPlot</a>, items are supplemental graphical elements that are neither plottables (<a href="qcpabstractplottable.html">QCPAbstractPlottable</a>) nor axes (<a href="qcpaxis.html">QCPAxis</a>). While plottables are always tied to two axes and thus plot coordinates, items can also be placed in absolute coordinates independent of any axes. Each specific item has at least one <a href="qcpitemposition.html">QCPItemPosition</a> member which controls the positioning. Some items are defined by more than one coordinate and thus have two or more <a href="qcpitemposition.html">QCPItemPosition</a> members (For example, <a href="qcpitemrect.html">QCPItemRect</a> has <i>topLeft</i> and <i>bottomRight</i>).</p>
<p>This abstract base class defines a very basic interface like visibility and clipping. Since this class is abstract, it can't be instantiated. Use one of the subclasses or create a subclass yourself to create new items.</p>
<p>The built-in items are: &lt;table&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemline.html">QCPItemLine</a>&lt;/td&gt;&lt;td&gt;A line defined by a start and an end point. May have different ending styles on each side (e.g&#x2e; arrows).&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemstraightline.html">QCPItemStraightLine</a>&lt;/td&gt;&lt;td&gt;A straight line defined by a start and a direction point. Unlike <a href="qcpitemline.html">QCPItemLine</a>, the straight line is infinitely long and has no endings.&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemcurve.html">QCPItemCurve</a>&lt;/td&gt;&lt;td&gt;A curve defined by start, end and two intermediate control points. May have different ending styles on each side (e.g&#x2e; arrows).&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemrect.html">QCPItemRect</a>&lt;/td&gt;&lt;td&gt;A rectangle&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemellipse.html">QCPItemEllipse</a>&lt;/td&gt;&lt;td&gt;An ellipse&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitempixmap.html">QCPItemPixmap</a>&lt;/td&gt;&lt;td&gt;An arbitrary pixmap&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemtext.html">QCPItemText</a>&lt;/td&gt;&lt;td&gt;A text label&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitembracket.html">QCPItemBracket</a>&lt;/td&gt;&lt;td&gt;A bracket which may be used to reference/highlight certain parts in the plot.&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;<a href="qcpitemtracer.html">QCPItemTracer</a>&lt;/td&gt;&lt;td&gt;An item that can be attached to a <a href="qcpgraph.html">QCPGraph</a> and sticks to its data points, given a key coordinate.&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt;</p>
<p><b class="redFont"><code>\section</code></b>items-clipping Clipping</p>
<p>Items are by default clipped to the main axis rect (they are only visible inside the axis rect). To make an item visible outside that axis rect, disable clipping via <b class="redFont"><code>\ref</code></b> setClipToAxisRect &quot;setClipToAxisRect(false)&quot;.</p>
<p>On the other hand if you want the item to be clipped to a different axis rect, specify it via <b class="redFont"><code>\ref</code></b> setClipAxisRect. This clipAxisRect property of an item is only used for clipping behaviour, and in principle is independent of the coordinate axes the item might be tied to via its position members (<b class="redFont"><code>\ref</code></b> QCPItemPosition::setAxes). However, it is common that the axis rect for clipping also contains the axes used for the item positions.</p>
<p><b class="redFont"><code>\section</code></b>items-using Using items</p>
<p>First you instantiate the item you want to use and add it to the plot:</p>
<pre class="cpp"></pre>
<p>by default, the positions of the item are bound to the x- and y-Axis of the plot. So we can just set the plot coordinates where the line should start/end:</p>
<pre class="cpp"></pre>
<p>If we don't want the line to be positioned in plot coordinates but a different coordinate system, e.g&#x2e; absolute pixel positions on the <a href="qcustomplot.html">QCustomPlot</a> surface, we need to change the position type like this:</p>
<pre class="cpp"></pre>
<p>Then we can set the coordinates, this time in pixels:</p>
<pre class="cpp"></pre>
<p>and make the line visible on the entire <a href="qcustomplot.html">QCustomPlot</a>, by disabling clipping to the axis rect:</p>
<pre class="cpp"></pre>
<p>For more advanced plots, it is even possible to set different types and parent anchors per X/Y coordinate of an item position, using for example <b class="redFont"><code>\ref</code></b> QCPItemPosition::setTypeX or <b class="redFont"><code>\ref</code></b> QCPItemPosition::setParentAnchorX. For details, see the documentation of <b class="redFont"><code>\ref</code></b> <a href="qcpitemposition.html">QCPItemPosition</a>.</p>
<p><b class="redFont"><code>\section</code></b>items-subclassing Creating own items</p>
<p>To create an own item, you implement a subclass of <a href="qcpabstractitem.html">QCPAbstractItem</a>. These are the pure virtual functions, you must implement:</p>
<p><b class="redFont"><code>\ref</code></b>selectTest</p>
<p><b class="redFont"><code>\ref</code></b>draw</p>
<p>See the documentation of those functions for what they need to do.</p>
<p><b class="redFont"><code>\subsection</code></b>items-positioning Allowing the item to be positioned</p>
<p>As mentioned, item positions are represented by <a href="qcpitemposition.html">QCPItemPosition</a> members. Let's assume the new item shall have only one point as its position (as opposed to two like a rect or multiple like a polygon). You then add a public member of type <a href="qcpitemposition.html">QCPItemPosition</a> like so:</p>
<pre class="cpp">the <span class="keyword">const</span> makes sure the pointer itself can<span class="char">'t be modified from the user of your new item (the QCPItemPosition
instance it points to, can be modified, of course).
The initialization of this pointer is made easy with the \ref createPosition function. Just assign
the return value of this function to each QCPItemPosition in the constructor of your item. \ref createPosition
takes a string which is the name of the position, typically this is identical to the variable name.
For example, the constructor of QCPItemExample could look like this:

\code
QCPItemExample::QCPItemExample(QCustomPlot *parentPlot) :
  QCPAbstractItem(parentPlot),
  myPosition(createPosition(&quot;myPosition&quot;))
{
  // other constructor code
}
</span></pre>
<p><b class="redFont"><code>\subsection</code></b>items-drawing The draw function</p>
<p>To give your item a visual representation, reimplement the <b class="redFont"><code>\ref</code></b> draw function and use the passed <a href="qcppainter.html">QCPPainter</a> to draw the item. You can retrieve the item position in pixel coordinates from the position member(s) via <b class="redFont"><code>\ref</code></b> QCPItemPosition::pixelPosition.</p>
<p>To optimize performance you should calculate a bounding rect first (don't forget to take the pen width into account), check whether it intersects the <b class="redFont"><code>\ref</code></b> <a href="qcpabstractitem.html#clipRect">clipRect</a>, and only draw the item at all if this is the case.</p>
<p><b class="redFont"><code>\subsection</code></b>items-selection The selectTest function</p>
<p>Your implementation of the <b class="redFont"><code>\ref</code></b> selectTest function may use the helpers <b class="redFont"><code>\ref</code></b> QCPVector2D::distanceSquaredToLine and <b class="redFont"><code>\ref</code></b> <a href="qcpabstractitem.html#rectDistance">rectDistance</a>. With these, the implementation of the selection test becomes significantly simpler for most items. See the documentation of <b class="redFont"><code>\ref</code></b> selectTest for what the function parameters mean and what the function should return.</p>
<p><b class="redFont"><code>\subsection</code></b>anchors Providing anchors</p>
<p>Providing anchors (<a href="qcpitemanchor.html">QCPItemAnchor</a>) starts off like adding a position. First you create a public member, e.g&#x2e;</p>
<pre class="cpp"></pre>
</div>
<!-- @@@QCPAbstractItem -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$anchorPixelPosition[overload1]$$$anchorPixelPositionint -->
<h3 class="fn" id="anchorPixelPosition"><a name="anchorPixelPosition"></a><code>[protected] </code><span class="type">int</span> QCPAbstractItem::<span class="name">anchorPixelPosition</span>(<i>int</i>) const</h3>
<!-- @@@anchorPixelPosition -->
<!-- $$$applyDefaultAntialiasingHint[overload1]$$$applyDefaultAntialiasingHintQCPPainter* -->
<h3 class="fn" id="applyDefaultAntialiasingHint"><a name="applyDefaultAntialiasingHint"></a><code>[virtual protected] </code><span class="type">void</span> QCPAbstractItem::<span class="name">applyDefaultAntialiasingHint</span>(<span class="type"><a href="qcppainter.html">QCPPainter</a></span> *<i>painter</i>) const</h3>
<!-- @@@applyDefaultAntialiasingHint -->
<!-- $$$clipRect[overload1]$$$clipRect -->
<h3 class="fn" id="clipRect"><a name="clipRect"></a><code>[protected] </code><span class="type">int</span> QCPAbstractItem::<span class="name">clipRect</span>() const</h3>
<!-- @@@clipRect -->
<!-- $$$createAnchor[overload1]$$$createAnchorconstint&int -->
<h3 class="fn" id="createAnchor"><a name="createAnchor"></a><code>[protected] </code><span class="type"><a href="qcpitemanchor.html">QCPItemAnchor</a></span> *QCPAbstractItem::<span class="name">createAnchor</span>(const <span class="type">int</span> &amp;<i>name</i>, <span class="type">int</span> <i>anchorId</i>)</h3>
<!-- @@@createAnchor -->
<!-- $$$createPosition[overload1]$$$createPositionconstint& -->
<h3 class="fn" id="createPosition"><a name="createPosition"></a><code>[protected] </code><span class="type"><a href="qcpitemposition.html">QCPItemPosition</a></span> *QCPAbstractItem::<span class="name">createPosition</span>(const <span class="type">int</span> &amp;<i>name</i>)</h3>
<!-- @@@createPosition -->
<!-- $$$deselectEvent[overload1]$$$deselectEventbool* -->
<h3 class="fn" id="deselectEvent"><a name="deselectEvent"></a><code>[virtual protected] </code><span class="type">void</span> QCPAbstractItem::<span class="name">deselectEvent</span>(<span class="type">bool</span> *<i>selectionStateChanged</i>)</h3>
<!-- @@@deselectEvent -->
<!-- $$$draw[overload1]$$$drawQCPPainter* -->
<h3 class="fn" id="draw"><a name="draw"></a><code>[pure virtual protected] </code><span class="type">void</span> QCPAbstractItem::<span class="name">draw</span>(<span class="type"><a href="qcppainter.html">QCPPainter</a></span> *<i>painter</i>)</h3>
<!-- @@@draw -->
<!-- $$$rectDistance[overload1]$$$rectDistanceconstint&constint&bool -->
<h3 class="fn" id="rectDistance"><a name="rectDistance"></a><code>[protected] </code><span class="type">double</span> QCPAbstractItem::<span class="name">rectDistance</span>(const <span class="type">int</span> &amp;<i>rect</i>, const <span class="type">int</span> &amp;<i>pos</i>, <span class="type">bool</span> <i>filledRect</i>) const</h3>
<!-- @@@rectDistance -->
<!-- $$$selectEvent[overload1]$$$selectEventint*boolconstint&bool* -->
<h3 class="fn" id="selectEvent"><a name="selectEvent"></a><code>[virtual protected] </code><span class="type">void</span> QCPAbstractItem::<span class="name">selectEvent</span>(<span class="type">int</span> *<i>event</i>, <span class="type">bool</span> <i>additive</i>, const <span class="type">int</span> &amp;<i>details</i>, <span class="type">bool</span> *<i>selectionStateChanged</i>)</h3>
<!-- @@@selectEvent -->
<!-- $$$selectionCategory[overload1]$$$selectionCategory -->
<h3 class="fn" id="selectionCategory"><a name="selectionCategory"></a><code>[virtual protected] </code><span class="type"><a href="qcp-sub-enoseannotator.html#Interaction-enum">QCP::Interaction</a></span> QCPAbstractItem::<span class="name">selectionCategory</span>() const</h3>
<!-- @@@selectionCategory -->
</div>
</body>
</html>
